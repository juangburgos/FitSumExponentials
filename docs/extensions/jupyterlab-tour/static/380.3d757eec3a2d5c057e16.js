"use strict";(self.webpackChunkjupyterlab_tour=self.webpackChunkjupyterlab_tour||[]).push([[380],{2380:(e,t,o)=>{o.r(t),o.d(t,{ITourManager:()=>k,default:()=>ee});var n=o(7403),r=o(6761),a=o(2445),s=o(4991),i=o(1810),l=o(2535),p=o(4882),c=o(6029),u=o.n(c),d=o(494),h=o.n(d);class g extends u().Component{constructor(e){super(e),this.reset=()=>{this.setState({run:!0,index:0})},this._handleJoyrideCallback=e=>{const{status:t}=e,o=[d.STATUS.FINISHED,d.STATUS.SKIPPED];if(this.props.tours[this.state.index].handleTourEvent(e),o.includes(t)){this.setState({run:!1});const e=this.state.index+1;e<this.props.tours.length?this.setState({index:e,run:!0}):this.setState({index:-1})}},this.state={run:!0,index:0}}render(){return this.props.tours&&this.props.tours[this.state.index]?u().createElement(h(),{key:this.props.tours[this.state.index].id,...this.props.tours[this.state.index].options,callback:this._handleJoyrideCallback,run:this.state.run,steps:this.props.tours[this.state.index].steps}):null}}function m(e){const t=u().useRef(null);return t.current&&t.current.reset(),u().createElement(g,{ref:t,tours:e.tours})}function b(e){return u().createElement(n.UseSignal,{signal:e.tourLaunched,initialArgs:[]},((e,t)=>t&&t.length>0?u().createElement(m,{tours:t}):null))}var _=o(7930);const y=JSON.parse('{"u2":"jupyterlab-tour"}').u2,f=`${y}:plugin`,T=`${y}:user-tours`,v=`${y}:notebook-tours`,E=`${y}:default-tours`,k=new _.Token(`${y}:ITourManager`),S=new _.Token(`${y}:IUserTourManager`),w=new _.Token(`${y}:IUserTourManager`);var j;!function(e){e.addTour=`${y}:add`,e.launch=`${y}:launch`}(j||(j={}));const C=`${y}:welcome`,x=`${y}:notebook`,P={continuous:!0,showProgress:!0,showSkipButton:!0,styles:{options:{arrowColor:"var(--jp-layout-color1)",backgroundColor:"var(--jp-layout-color1)",beaconSize:36,overlayColor:"var(--jp-dialog-background)",primaryColor:"var(--jp-brand-color1)",spotlightShadow:"var(--jp-elevation-z6)",textColor:"var(--jp-ui-font-color1)",zIndex:100}}};var I=o(8448);const N='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000">\n  <g class="jp-icon3 jp-icon-selectable" fill="currentColor">\n    <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z" />\n  </g>\n</svg>\n',M='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000">\n   <g class="jp-icon3 jp-icon-selectable" fill="currentColor">\n      <path d="M 12 2 C 8.13 2 5 5.13 5 9 C 5 14.25 12 22 12 22 C 12 22 19 14.25 19 9 C 19 5.13 15.87 2 12 2 z M 8 5.6777344 L 16 5.6777344 L 16 13.677734 L 12.072266 10.548828 L 8 13.677734 L 8 5.6777344 z " id="path1153" />\n   </g>\n</svg>\n',O=new I.LabIcon({name:`${y}:tour`,svgstr:N}),R=new I.LabIcon({name:`${y}:default-welcome-tour`,svgstr:N.replace(/jp-icon3/,"jp-icon-warn0")}),A=new I.LabIcon({name:`${y}:tour-error`,svgstr:'<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000">\n  <g class="jp-icon-warn0 jp-icon-selectable" fill="currentColor">\n    <path d="M12,2c-4.2,0-8,3.22-8,8.2c0,3.32,2.67,7.25,8,11.8c5.33-4.55,8-8.48,8-11.8C20,5.22,16.2,2,12,2z M13,15h-2v-2h2V15z M13,11h-2V6h2V11z" />\n  </g>\n</svg>\n'}),L=new I.LabIcon({name:`${y}:default-notebook-tour`,svgstr:M.replace(/jp-icon3/,"jp-icon-warn0")}),D=new I.LabIcon({name:`${y}:user-tour`,svgstr:'<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000">\n  <g class="jp-icon3 jp-icon-selectable" fill="currentColor">\n    <path d="M12,2C8.14,2,5,5.14,5,9c0,5.25,7,13,7,13s7-7.75,7-13C19,5.14,15.86,2,12,2z M12,4c1.1,0,2,0.9,2,2c0,1.11-0.9,2-2,2 s-2-0.89-2-2C10,4.9,10.9,4,12,4z M12,14c-1.67,0-3.14-0.85-4-2.15c0.02-1.32,2.67-2.05,4-2.05s3.98,0.73,4,2.05 C15.14,13.15,13.67,14,12,14z"/>\n  </g>\n</svg>\n'}),$=new I.LabIcon({name:`${y}:notebook-tour`,svgstr:M}),B=new I.LabIcon({name:`${y}:notebook-has-tour`,svgstr:M.replace(/jp-icon3/,"jp-icon-brand0")});var F;!function(e){let t,o;!function(e){e.addWelcomeTour=function(e,t){const o=e.translator,n=e.createTour({id:C,label:o.__("Welcome Tour"),hasHelpEntry:!0,icon:R,version:20231107});n.options={...n.options,hideBackButton:!0},n.addStep({target:"#jp-main-dock-panel",content:o.__("The following tour will point out some of the main UI components within JupyterLab."),placement:"center",title:o.__("Welcome to JupyterLab!")}),n.addStep({content:u().createElement(u().Fragment,null,u().createElement("p",null,o.__("Pause the tour by clicking anywhere outside of the tooltip.")),u().createElement("p",null,o.__("Resume the tour by clicking on the symbol:")),u().createElement("div",{style:{display:"inline-block",height:"60px"}},u().createElement("span",{style:{animation:"1.2s ease-in-out 0s infinite normal none running joyride-beacon-inner",backgroundColor:"var(--jp-brand-color1)",borderRadius:"50%",display:"block",height:"30px",opacity:"0.7",position:"relative",top:"15px",width:"30px"}}),u().createElement("span",{style:{animation:"1.2s ease-in-out 0s infinite normal none running joyride-beacon-outer",border:"2px solid var(--jp-brand-color1)",borderRadius:"50%",boxSizing:"border-box",display:"block",height:"60px",left:"-15px",opacity:"0.9",position:"relative",top:"-30px",width:"60px"}})),u().createElement("p",null,u().createElement("small",null,o.__("Tip: Tours can be restarted from the Help menu.")))),target:"#jp-main-dock-panel",placement:"center",title:o.__("Some information on the tour, first.")}),n.addStep({content:u().createElement("details",null,u().createElement("summary",null,o.__("This is the top menu bar where you can access several menus.")),u().createElement("ul",null,u().createElement("li",null,u().createElement("strong",null,o.__("File")),o.__(": actions related to files and directories")),u().createElement("li",null,u().createElement("strong",null,o.__("Edit")),o.__(": actions related to editing documents and other activities")),u().createElement("li",null,u().createElement("strong",null,o.__("View")),o.__(": actions that alter the appearance of JupyterLab")),u().createElement("li",null,u().createElement("strong",null,o.__("Run")),o.__(": actions for running code in notebooks and code consoles for example")),u().createElement("li",null,u().createElement("strong",null,o.__("Kernel")),o.__(": actions for managing kernels (i.e. separate processes for running code)")),u().createElement("li",null,u().createElement("strong",null,o.__("Tabs")),o.__(": a list of the open documents and activities")),u().createElement("li",null,u().createElement("strong",null,o.__("Settings")),o.__(": common settings and an advanced settings editor")),u().createElement("li",null,u().createElement("strong",null,o.__("Help")),o.__(": help links")))),placement:"bottom",target:"#jp-MainMenu",title:o.__("Top Menu Options"),styles:{tooltipContent:{overflowY:"auto",maxHeight:"200px"}}}),n.addStep({content:u().createElement(u().Fragment,null,u().createElement("p",null,o.__("The main area enables you to arrange documents and activities into\n            panels of tabs that can be resized or subdivided.")),u().createElement("p",null,o.__("Drag a tab to the center of a tab panel to move the tab to the panel."),u().createElement("br",null),o.__("Subdivide a tab panel by dragging a tab to the left, right, top, or bottom of the panel.")),u().createElement("p",null,o.__("The tab for the current activity is marked with a colored top border."))),placement:"left-end",target:"#jp-main-dock-panel",title:o.__("Main Work Area")}),n.addStep({target:"#jp-main-statusbar",content:u().createElement("p",null,o.__("Various information are reported on the status bar.")),placement:"top",title:o.__("Status Bar")}),n.addStep({content:u().createElement(u().Fragment,null,u().createElement("p",null,o.__("This sidebar contains a number of tabs: a file browser, a list of tabs, running kernels and terminals,...")),u().createElement("p",null,u().createElement("small",null,o.__('Tip: The sidebar can be collapsed or expanded by selecting\n              "Show Left Sidebar" in the View menu or by\n              clicking on the active sidebar tab.')))),placement:"right",target:".jp-SideBar.jp-mod-left",title:o.__("Left Side Bar")}),n.addStep({content:u().createElement(u().Fragment,null,u().createElement("p",null,o.__("The file browser enable you to work with files and directories on your\n            system. This includes opening, creating, deleting, renaming,\n            downloading, copying, and sharing files and directories.")),u().createElement("p",null,u().createElement("small",null,o.__("Tip: Actions can be triggered through the context menu.")))),placement:"right",target:"#filebrowser",title:o.__("File Browser")}),n.addStep({content:u().createElement(u().Fragment,null,u().createElement("p",null,o.__("All user actions in JupyterLab are processed through a centralized\n            command system, called command palette. It provides a keyboard-driven\n            way to search for and run JupyterLab commands.")),u().createElement("p",null,u().createElement("small",null,o.__('Tip: To open it, the default shortcut is "Ctrl + Shift + C"')))),placement:"center",target:"#jp-main-dock-panel",title:o.__("Command Palette")}),n.stepChanged.connect(((e,o)=>{"step:after"===o.type&&(".jp-SideBar.jp-mod-left"===o.step.target?t.execute("filebrowser:activate"):"#filebrowser"===o.step.target&&t.execute("apputils:activate-command-palette"))}))},e.addNotebookTour=function(e,t,o,n,r="JupyterLab"){const s=e.translator,i=e.createTour({id:x,label:s.__("Notebook Tour"),hasHelpEntry:!0,icon:L,version:20231107});i.options={...i.options,hideBackButton:!0,disableScrolling:!0};let l=null,p=null;i.addStep({target:".jp-MainAreaWidget.jp-NotebookPanel",content:u().createElement("p",null,s.__("Notebooks are documents combining live runnable code with narrative text (i.e. text, images,...).")),placement:"center",title:s.__("Working with notebooks!")}),i.addStep({target:".jp-Cell.jp-Notebook-cell",content:u().createElement("p",null,s.__("Notebook consists of one cells list."),u().createElement("br",null),s.__("This is the first cell.")),placement:"bottom"}),i.addStep({target:".jp-NotebookPanel-toolbar .jp-Notebook-toolbarCellType",content:u().createElement(u().Fragment,null,u().createElement("p",null,s.__("A cell can have different type")),u().createElement("ul",null,u().createElement("li",null,u().createElement("strong",null,s.__("Code")),s.__(": Executable code")),u().createElement("li",null,u().createElement("strong",null,s.__("Markdown")),s.__(": Markdown formatted text")),u().createElement("li",null,u().createElement("strong",null,s.__("Raw")),s.__(": Plain text"))))}),i.addStep({target:".jp-Notebook-cell:last-child .jp-InputArea.jp-Cell-inputArea",content:u().createElement("p",null,s.__("A cell has an input and an output area. This is the input area that you can edit with\n          the proper syntax depending on the type.")),placement:"bottom"}),i.addStep({target:'.jp-NotebookPanel-toolbar svg[data-icon="ui-components:run"]',content:u().createElement("p",null,s.__("Hitting the Play button (or pressing Shift+Enter) will execute the cell content.")),placement:"right"}),i.addStep({target:".jp-Notebook-cell:last-child .jp-OutputArea.jp-Cell-outputArea",content:u().createElement("p",null,s.__("Once a cell has been executed. Its result is display in the output cell area.")),placement:"bottom"}),i.addStep({target:".jp-NotebookPanel-toolbar .jp-KernelName",content:u().createElement("p",null,s.__('When executing a "Code" cell, its code is sent to a execution kernel.'),u().createElement("br",null),s.__("Its name and its status are displayed here.")),placement:"bottom"}),"Jupyter Notebook"!==r&&(i.addStep({target:"#jp-running-sessions",content:u().createElement("p",null,s.__("The running kernels are listed on this tab."),u().createElement("br",null),s.__(" It can be used to open the associated document or to shut them down.")),placement:"right"}),i.addStep({target:"#jp-property-inspector",content:u().createElement("p",null,s.__("Metadata (like tags) can be added to cells through this tab.")),placement:"left"})),i.stepChanged.connect(((e,t)=>{var s;if("tour:start"===t.type)p=null;else if("step:before"===t.type){if('.jp-NotebookPanel-toolbar svg[data-icon="ui-components:run"]'===t.step.target&&n&&l){const{content:e,context:t}=l;a.NotebookActions.run(e,t.sessionContext)}}else if("step:after"===t.type)switch(t.step.target){case".jp-NotebookPanel-toolbar .jp-Notebook-toolbarCellType":if(n&&(l=n.currentWidget,l&&!p)){const e=l.content;a.NotebookActions.insertBelow(e);const t=e.activeCell;if(p=e.activeCellIndex,t)try{t.model.sharedModel.setSource("a = 2\na")}catch(e){t.model.value.text="a = 2\na"}}break;case".jp-NotebookPanel-toolbar .jp-KernelName":"Jupyter Notebook"!==r&&o.activateById("jp-running-sessions");break;case"#jp-running-sessions":{o.activateById("jp-property-inspector");const e=null===(s=o.node.querySelector("#jp-property-inspector"))||void 0===s?void 0:s.querySelector(".jp-Collapse-header:first-child");(null==e?void 0:e.classList.contains("jp-Collapse-header-collapsed"))&&e.dispatchEvent(new MouseEvent("click",{button:0,bubbles:!0,cancelable:!0}));break}}})),i.finished.connect(((e,o)=>{"#jp-property-inspector"===o.step.target?(t.execute("filebrowser:activate"),n&&l&&null!==p&&(l.content.activeCellIndex=p,a.NotebookActions.deleteCells(l.content),p=null)):"Jupyter Notebook"===r&&".jp-NotebookPanel-toolbar .jp-KernelName"===o.step.target&&n&&l&&null!==p&&(l.content.activeCellIndex=p,a.NotebookActions.deleteCells(l.content),p=null)}))}}(t=e.JupyterLab||(e.JupyterLab={})),function(e){e.addWelcomeTour=function(e,t){const o=e.translator,n=e.createTour({id:C,label:o.__("Welcome Tour"),hasHelpEntry:!0,version:20231107});n.options={...n.options,hideBackButton:!0},n.addStep({target:"#main-panel",content:o.__("The following tour will point out some of the main UI components within Jupyter Notebook."),placement:"center",title:o.__("Welcome to Jupyter Notebook!")}),n.addStep({content:u().createElement(u().Fragment,null,u().createElement("p",null,o.__("Pause the tour by clicking anywhere outside of the tooltip.")),u().createElement("p",null,o.__("Resume the tour by clicking on the symbol:")),u().createElement("div",{style:{display:"inline-block",height:"60px"}},u().createElement("span",{style:{animation:"1.2s ease-in-out 0s infinite normal none running joyride-beacon-inner",backgroundColor:"var(--jp-brand-color1)",borderRadius:"50%",display:"block",height:"30px",opacity:"0.7",position:"relative",top:"15px",width:"30px"}}),u().createElement("span",{style:{animation:"1.2s ease-in-out 0s infinite normal none running joyride-beacon-outer",border:"2px solid var(--jp-brand-color1)",borderRadius:"50%",boxSizing:"border-box",display:"block",height:"60px",left:"-15px",opacity:"0.9",position:"relative",top:"-30px",width:"60px"}})),u().createElement("p",null,u().createElement("small",null,o.__("Tip: Tours can be restarted from the Help menu.")))),target:"#main-panel",placement:"center",title:o.__("Some information on the tour, first.")}),n.addStep({content:u().createElement("details",null,u().createElement("summary",null,o.__("This is the top menu bar where you can access several menus.")),u().createElement("ul",null,u().createElement("li",null,u().createElement("strong",null,o.__("File")),o.__(": actions related to files and directories")),u().createElement("li",null,u().createElement("strong",null,o.__("View")),o.__(": actions that alter the appearance of Jupyter Notebook")),u().createElement("li",null,u().createElement("strong",null,o.__("Settings")),o.__(": common settings and an settings editor")),u().createElement("li",null,u().createElement("strong",null,o.__("Help")),o.__(": help links")))),placement:"bottom",target:"#menu-panel",title:o.__("Top Menu Options"),styles:{tooltipContent:{overflowY:"auto",maxHeight:"200px"}}}),n.addStep({content:u().createElement(u().Fragment,null,u().createElement("p",null,o.__("The notebook dashboard enables you to arrange documents and monitor running kernels.")),u().createElement("p",null,o.__("This tab panel contains a number of tabs: a file browser, a list of running kernels and terminals,..."))),placement:"bottom",target:".lm-TabBar",title:o.__("Noteboook Dashboard")}),n.addStep({content:u().createElement(u().Fragment,null,u().createElement("p",null,o.__("The file browser enable you to work with files and directories on your\n                system. This includes opening, creating, deleting, renaming,\n                downloading, copying, and sharing files and directories.")),u().createElement("p",null,u().createElement("small",null,o.__("Tip: Actions can be triggered through the context menu.")))),placement:"left",target:"#filebrowser",title:o.__("File Browser")}),n.addStep({content:u().createElement(u().Fragment,null,u().createElement("p",null,o.__("All user actions in Jupyter Notebook are processed through a centralized\n                command system, called command palette. It provides a keyboard-driven\n                way to search for and run Jupyter Notebook commands.")),u().createElement("p",null,u().createElement("small",null,o.__('Tip: To open it, the default shortcut is "Ctrl + Shift + C"')))),placement:"center",target:"#main-panel",title:o.__("Command Palette")}),n.stepChanged.connect(((e,o)=>{"step:after"===o.type&&("#main-panel"===o.step.target?t.execute("filebrowser:activate"):"#filebrowser"===o.step.target&&t.execute("apputils:activate-command-palette"))}))}}(o=e.Notebook||(e.Notebook={}))}(F||(F={}));class U extends n.ReactWidget{constructor(e,t){super(),this.handleChange=async e=>{const{value:t}=e.target;switch(t){case"-":break;case"ALL":await this._manager.tourManager.launch(this._manager.getNotebookTourIds(this._notebook),!0);break;default:await this._manager.tourManager.launch([t],!0)}},this.renderOption=e=>{const t=this._manager.tourManager.tours.get(e);return c.createElement("option",{key:e,value:e},(null==t?void 0:t.label)||e)},this._manager=t,this._notebook=e,this.addClass("jp-NotebookTour-toolbaritem"),e.model&&this.update(),this._manager.notebookToursChanged.connect(this.update,this)}dispose(){this.isDisposed||(this._manager.notebookToursChanged.disconnect(this.update,this),super.dispose())}render(){const e=this.translator;let t=e.__("Start a Notebook Tour");const o=this._manager.getNotebookTourIds(this._notebook);let n=$;o.length&&(t=`${t} (${o.length})`,n=B);const r=this._manager.getNotebookValidationErrors(this._notebook);return r.length&&(t=`${this.translator.__("Tour Validation Errors")}: ${r.length}`,n=A),c.createElement(I.HTMLSelect,{onChange:this.handleChange,icon:n,"aria-label":e.__("Notebook Tours"),title:t,value:""},c.createElement("option",{style:{display:"none"},value:""}),r.length?c.createElement("option",null,e.__("Tour metadata is not valid: see the browser console!")):[],o.length?c.createElement("option",{value:"ALL"},e.__("Run all Tours")):c.createElement("optgroup",{label:e.__("No Tours found in this Notebook")}),o.length?c.createElement("optgroup",{label:e.__("Notebook Tours")},o.map(this.renderOption)):[])}get translator(){return this._manager.tourManager.translator}}var z=o(7867),J=o.n(z),q=o(4901);const H=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema","title":"Tours","description":"Configuration for user-defined tours. This schema is generated from https://github.com/gilbarbara/react-joyride/blob/master/types/index.d.ts","jupyter.lab.setting-icon-label":"Tours","jupyter.lab.setting-icon":"jupyterlab-tour:user-tour","jupyter.lab.toolbars":{"Notebook":[{"name":"jupyterlab-tour","rank":60}]},"type":"object","properties":{"tours":{"type":"array","description":"An array of a tours. Each requires an `id`, `label` and `steps[]`, and may have `options`, see https://docs.react-joyride.com","default":[],"items":{"type":"object","required":["id","label","steps"],"properties":{"id":{"type":"string","description":"A machine-readable ID to identify this tour, will be prefixed. Should be unique within this document."},"label":{"type":"string","description":"A human-readable name for the tour"},"hasHelpEntry":{"type":"boolean","description":"Whether to add a Help Menu item with the label to launch the tour","default":true},"icon":{"type":"string","description":"The name of an already-registered LabIcon to display next to this tour","default":"jupyterlab-tour:user-tour"},"steps":{"description":"The definition of the steps of a tour","type":"array","items":{"$ref":"#/definitions/Step"}},"options":{"description":"Other options for the tour","$ref":"#/definitions/Props"},"version":{"type":"integer","title":"The tour version","description":"The tour version (prefer calendar versioning YYYYMMDD) to determine if an user should see it again or not.","minimum":0},"translation":{"description":"Translation domain containing strings for this tour","type":"string"}}}}},"definitions":{"BeaconRenderProps":{"additionalProperties":false,"properties":{"continuous":{"type":"boolean"},"index":{"type":"number"},"isLastStep":{"type":"boolean"},"size":{"type":"number"},"step":{"$ref":"#/definitions/Step"}},"required":["continuous","index","isLastStep","size","step"],"type":"object"},"CallBackProps":{"additionalProperties":false,"properties":{"action":{"type":"string"},"controlled":{"type":"boolean"},"index":{"type":"number"},"lifecycle":{"type":"string"},"size":{"type":"number"},"status":{"$ref":"#/definitions/valueof%3Cstatus%3E"},"step":{"$ref":"#/definitions/Step"},"type":{"type":"string"}},"required":["action","controlled","index","lifecycle","size","status","step","type"],"type":"object"},"CommonProps":{"additionalProperties":false,"properties":{"beaconComponent":{"type":"string"},"disableCloseOnEsc":{"type":"boolean"},"disableOverlay":{"type":"boolean"},"disableOverlayClose":{"type":"boolean"},"disableScrollParentFix":{"type":"boolean"},"disableScrolling":{"type":"boolean"},"floaterProps":{"$ref":"#/definitions/FloaterProps"},"hideBackButton":{"type":"boolean"},"locale":{"$ref":"#/definitions/Locale"},"showProgress":{"type":"boolean"},"showSkipButton":{"type":"boolean"},"spotlightClicks":{"type":"boolean"},"spotlightPadding":{"type":"number"},"styles":{"$ref":"#/definitions/Styles"},"tooltipComponent":{"type":"string"}},"type":"object"},"FloaterProps":{"additionalProperties":false,"properties":{"disableAnimation":{"type":"boolean"},"options":{"$ref":"#/definitions/GenericObject"},"styles":{"$ref":"#/definitions/GenericObject"},"wrapperOptions":{"$ref":"#/definitions/GenericObject"}},"type":"object"},"GenericObject":{"type":"object"},"Locale":{"additionalProperties":false,"properties":{"back":{"type":"string"},"close":{"type":"string"},"last":{"type":"string"},"next":{"type":"string"},"open":{"type":"string"},"skip":{"type":"string"}},"type":"object"},"Placement":{"enum":["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto","center"],"type":"string"},"PlacementBeacon":{"enum":["top","bottom","left","right"],"type":"string"},"Props":{"additionalProperties":false,"properties":{"beaconComponent":{"type":"string"},"continuous":{"type":"boolean"},"debug":{"type":"boolean"},"disableCloseOnEsc":{"type":"boolean"},"disableOverlay":{"type":"boolean"},"disableOverlayClose":{"type":"boolean"},"disableScrollParentFix":{"type":"boolean"},"disableScrolling":{"type":"boolean"},"floaterProps":{"$ref":"#/definitions/FloaterProps"},"hideBackButton":{"type":"boolean"},"locale":{"$ref":"#/definitions/Locale"},"run":{"type":"boolean"},"scrollOffset":{"type":"number"},"scrollToFirstStep":{"type":"boolean"},"showProgress":{"type":"boolean"},"showSkipButton":{"type":"boolean"},"spotlightClicks":{"type":"boolean"},"spotlightPadding":{"type":"number"},"stepIndex":{"type":"number"},"styles":{"$ref":"#/definitions/Styles"},"tooltipComponent":{"type":"string"}},"type":"object"},"Step":{"additionalProperties":false,"properties":{"beaconComponent":{"type":"string"},"content":{"type":"string"},"disableBeacon":{"type":"boolean"},"disableCloseOnEsc":{"type":"boolean"},"disableOverlay":{"type":"boolean"},"disableOverlayClose":{"type":"boolean"},"disableScrollParentFix":{"type":"boolean"},"disableScrolling":{"type":"boolean"},"event":{"type":"string"},"floaterProps":{"$ref":"#/definitions/FloaterProps"},"hideBackButton":{"type":"boolean"},"hideCloseButton":{"type":"boolean"},"hideFooter":{"type":"boolean"},"isFixed":{"type":"boolean"},"locale":{"$ref":"#/definitions/Locale"},"offset":{"type":"number"},"placement":{"$ref":"#/definitions/Placement"},"placementBeacon":{"$ref":"#/definitions/PlacementBeacon"},"showProgress":{"type":"boolean"},"showSkipButton":{"type":"boolean"},"spotlightClicks":{"type":"boolean"},"spotlightPadding":{"type":"number"},"styles":{"$ref":"#/definitions/Styles"},"target":{"type":"string"},"title":{"type":"string"},"tooltipComponent":{"type":"string"}},"required":["content","target"],"type":"object"},"StoreHelpers":{"additionalProperties":false,"type":"object"},"StoreState":{"additionalProperties":false,"properties":{"action":{"type":"string"},"controlled":{"type":"boolean"},"index":{"type":"number"},"lifecycle":{"type":"string"},"size":{"type":"number"},"status":{"type":"string"}},"required":["action","controlled","index","lifecycle","size","status"],"type":"object"},"Styles":{"additionalProperties":false,"properties":{"beacon":{"type":"object"},"beaconInner":{"type":"object"},"beaconOuter":{"type":"object"},"buttonBack":{"type":"object"},"buttonClose":{"type":"object"},"buttonNext":{"type":"object"},"buttonSkip":{"type":"object"},"options":{"additionalProperties":false,"properties":{"arrowColor":{"type":"string"},"backgroundColor":{"type":"string"},"beaconSize":{"type":"number"},"overlayColor":{"type":"string"},"primaryColor":{"type":"string"},"spotlightShadow":{"type":"string"},"textColor":{"type":"string"},"width":{"type":["string","number"]},"zIndex":{"type":"number"}},"type":"object"},"overlay":{"type":"object"},"overlayLegacy":{"type":"object"},"overlayLegacyCenter":{"type":"object"},"spotlight":{"type":"object"},"spotlightLegacy":{"type":"object"},"tooltip":{"type":"object"},"tooltipContainer":{"type":"object"},"tooltipContent":{"type":"object"},"tooltipFooter":{"type":"object"},"tooltipFooterSpacer":{"type":"object"},"tooltipTitle":{"type":"object"}},"type":"object"},"TooltipRenderProps":{"additionalProperties":false,"properties":{"backProps":{"additionalProperties":false,"properties":{"aria-label":{"type":"string"},"data-action":{"type":"string"},"role":{"type":"string"},"title":{"type":"string"}},"required":["aria-label","data-action","role","title"],"type":"object"},"closeProps":{"additionalProperties":false,"properties":{"aria-label":{"type":"string"},"data-action":{"type":"string"},"role":{"type":"string"},"title":{"type":"string"}},"required":["aria-label","data-action","role","title"],"type":"object"},"continuous":{"type":"boolean"},"index":{"type":"number"},"isLastStep":{"type":"boolean"},"primaryProps":{"additionalProperties":false,"properties":{"aria-label":{"type":"string"},"data-action":{"type":"string"},"role":{"type":"string"},"title":{"type":"string"}},"required":["aria-label","data-action","role","title"],"type":"object"},"size":{"type":"number"},"skipProps":{"additionalProperties":false,"properties":{"aria-label":{"type":"string"},"data-action":{"type":"string"},"role":{"type":"string"},"title":{"type":"string"}},"required":["aria-label","data-action","role","title"],"type":"object"},"step":{"$ref":"#/definitions/Step"},"tooltipProps":{"additionalProperties":false,"properties":{"aria-modal":{"type":"boolean"},"role":{"type":"string"}},"required":["aria-modal","role"],"type":"object"}},"required":["backProps","closeProps","continuous","index","isLastStep","primaryProps","size","skipProps","step","tooltipProps"],"type":"object"},"actions":{"additionalProperties":false,"properties":{"CLOSE":{"enum":["close"],"type":"string"},"GO":{"enum":["go"],"type":"string"},"INDEX":{"enum":["index"],"type":"string"},"INIT":{"enum":["init"],"type":"string"},"NEXT":{"enum":["next"],"type":"string"},"PREV":{"enum":["prev"],"type":"string"},"RESET":{"enum":["reset"],"type":"string"},"RESTART":{"enum":["restart"],"type":"string"},"SKIP":{"enum":["skip"],"type":"string"},"START":{"enum":["start"],"type":"string"},"STOP":{"enum":["stop"],"type":"string"},"UPDATE":{"enum":["update"],"type":"string"}},"required":["INIT","START","STOP","RESET","RESTART","PREV","NEXT","GO","INDEX","CLOSE","SKIP","UPDATE"],"type":"object"},"events":{"additionalProperties":false,"properties":{"BEACON":{"enum":["beacon"],"type":"string"},"ERROR":{"enum":["error"],"type":"string"},"STEP_AFTER":{"enum":["step:after"],"type":"string"},"STEP_BEFORE":{"enum":["step:before"],"type":"string"},"TARGET_NOT_FOUND":{"enum":["error:target_not_found"],"type":"string"},"TOOLTIP":{"enum":["tooltip"],"type":"string"},"TOOLTIP_CLOSE":{"enum":["close"],"type":"string"},"TOUR_END":{"enum":["tour:end"],"type":"string"},"TOUR_START":{"enum":["tour:start"],"type":"string"},"TOUR_STATUS":{"enum":["tour:status"],"type":"string"}},"required":["TOUR_START","STEP_BEFORE","BEACON","TOOLTIP","TOOLTIP_CLOSE","STEP_AFTER","TOUR_END","TOUR_STATUS","TARGET_NOT_FOUND","ERROR"],"type":"object"},"lifecycle":{"additionalProperties":false,"properties":{"BEACON":{"enum":["beacon"],"type":"string"},"COMPLETE":{"enum":["complete"],"type":"string"},"ERROR":{"enum":["error"],"type":"string"},"INIT":{"enum":["init"],"type":"string"},"READY":{"enum":["ready"],"type":"string"},"TOOLTIP":{"enum":["tooltip"],"type":"string"}},"required":["INIT","READY","BEACON","TOOLTIP","COMPLETE","ERROR"],"type":"object"},"status":{"additionalProperties":false,"properties":{"ERROR":{"enum":["error"],"type":"string"},"FINISHED":{"enum":["finished"],"type":"string"},"IDLE":{"enum":["idle"],"type":"string"},"PAUSED":{"enum":["paused"],"type":"string"},"READY":{"enum":["ready"],"type":"string"},"RUNNING":{"enum":["running"],"type":"string"},"SKIPPED":{"enum":["skipped"],"type":"string"},"WAITING":{"enum":["waiting"],"type":"string"}},"required":["IDLE","READY","WAITING","RUNNING","PAUSED","SKIPPED","FINISHED","ERROR"],"type":"object"},"valueof<status>":{"enum":["idle","ready","waiting","running","paused","skipped","finished","error"],"type":"string"}}}');class W{constructor(e){this._notebookTours=new Map,this._notebookToursChanged=new q.Signal(this),this._validationErrors=new Map,this._tourManager=e.tourManager,this._validator=new(J())({strict:!1}).compile(H)}get tourManager(){return this._tourManager}async addNotebook(e){var t;this._notebookTours.has(e)||e.model&&((null!==(t=e.model.metadataChanged)&&void 0!==t?t:e.model.metadata.changed).connect((()=>{this._notebookMetadataChanged(e)})),e.disposed.connect(this._onNotebookDisposed,this),this._notebookMetadataChanged(e))}getNotebookTourIds(e){const t=[];for(const o of this._tourManager.tours.keys())o.startsWith(`${v}:${e.id}:`)&&t.push(o);return t}getNotebookValidationErrors(e){return this._validationErrors.get(e)||[]}get notebookToursChanged(){return this._notebookToursChanged}_onNotebookDisposed(e){this._cleanNotebookTours(e)}_cleanNotebookTours(e){for(const t of this.getNotebookTourIds(e))this._tourManager.removeTour(t)}_notebookMetadataChanged(e){var t,o;const{model:n}=e,r=n?n.getMetadata?n.getMetadata(y):n.metadata.get(y):null,a=this._tourManager.translator;if(this._cleanNotebookTours(e),this._validationErrors.set(e,[]),r){this._validator(r);const n=this._validator.errors||[];if(this._validationErrors.set(e,n),n.length)console.error(a.__("Validation errors found: fix them in Advanced Settings")),console.table(n);else{const n=null!==(t=r.tours)&&void 0!==t?t:[];for(const t of this.tourManager.sortTours(n))try{this._addNotebookTour(e,t),this._tourManager.launch([t.id],!1)}catch(e){console.groupCollapsed(a.__("Error encountered adding notebook tour %1 (%2)",t.label,t.id),e),console.table(t.steps),console.log(null!==(o=t.options)&&void 0!==o?o:{}),console.groupEnd()}}}this._notebookToursChanged.emit(e)}_addNotebookTour(e,t){this._tourManager.addTour({...t,id:`${v}:${e.id}:${t.id}`,icon:t.icon||$.name})}}class G{constructor(e,t,o,n=null,r=-1){this.handleTourEvent=e=>{if(!e)return;const{status:t,step:o,index:n}=e;t!==this._previousStatus&&(this._previousStatus=t,this._currentStepIndex=-1,t===d.STATUS.FINISHED?this._finished.emit(e):t===d.STATUS.SKIPPED?this._skipped.emit(e):t===d.STATUS.RUNNING?(this._currentStepIndex=0,this._started.emit(e)):t===d.STATUS.ERROR&&console.error(`An error occurred with the tour at step: ${o}`)),t===d.STATUS.RUNNING&&(n!==this._previousStepIndex&&(this._previousStepIndex=n,this._currentStepIndex=e.index),this._stepChanged.emit(e))},this._skipped=new q.Signal(this),this._finished=new q.Signal(this),this._started=new q.Signal(this),this._stepChanged=new q.Signal(this),this._currentStepIndex=-1,this._isDisposed=!1,this._previousStatus=d.STATUS.READY,this._previousStepIndex=-1,this._steps=new Array,this._label=t,this._id=e,this._icon=n||null,this._version=r;const{styles:a,...s}=null!=o?o:{};this._options={...P,...s},this._options.styles||(this._options.styles={}),this._options.styles.options={...this._options.styles.options||{},...(null==a?void 0:a.options)||{}}}get currentStepIndex(){return this._currentStepIndex}get finished(){return this._finished}get hasSteps(){return this.steps.length>0}get id(){return this._id}get isDisposed(){return this._isDisposed}get label(){return this._label}get icon(){return this._icon||O}get options(){return this._options}set options(e){this._options=_.JSONExt.deepCopy(e)}get skipped(){return this._skipped}get started(){return this._started}get stepChanged(){return this._stepChanged}get steps(){return this._steps}set steps(e){this._steps=e}get version(){return this._version}addStep(e){e&&this.steps.push(e)}createAndAddStep(e,t,o,n){const r={title:n,placement:o,target:e,content:t};return this.addStep(r),r}dispose(){this.isDisposed||(this._isDisposed=!0,q.Signal.clearData(this))}isRunning(){return this._currentStepIndex>=0}replaceStep(e,t){if(e<0||e>=this.steps.length)return;const o=this._steps;o[e]=t,this.steps=o}removeStep(e){return e<0||e>=this.steps.length?null:this.steps.splice(e,1)[0]}}class V{constructor(e={}){var t,o;this.createTour=e=>{var t,o,n,r;const{id:a,label:s}=e,i=null===(t=e.hasHelpEntry)||void 0===t||t,l=null!==(o=e.options)&&void 0!==o?o:{},p=null!==(n=e.icon)&&void 0!==n?n:null,c=null!==(r=e.version)&&void 0!==r?r:0;if(this._tours.has(a))throw new Error(this._trans.__("Error creating new tour. TourHandler id's must be unique.\nTutorial with the id: '%1' already exists.",a));l.locale||(l.locale=this._locale);const u=new G(a,s,l,p,c);if(this._menu&&i){const e={args:{id:u.id},command:j.launch},t=this._menu.addItem(e);this._menuItems.set(u.id,t)}this._tours.set(a,u);const d=e=>{this._rememberDoneTour(e.id)};return u.skipped.connect(d),u.finished.connect(d),u},this._forgetDoneTour=e=>{var t;const o=this._state.findIndex((t=>t.id===e));o>=0&&(this._state=this._state.splice(o,1),null===(t=this._tracker)||void 0===t||t.save(this._state))},this._rememberDoneTour=e=>{var t,o,n;const r=this._state.findIndex((t=>t.id===e));r>=0?this._state[r].version=null!==(t=this.tours.get(e).version)&&void 0!==t?t:-1:this._state.push({id:e,version:null!==(o=this.tours.get(e).version)&&void 0!==o?o:-1}),null===(n=this._tracker)||void 0===n||n.save(this._state)},this._activeTours=new Array,this._isDisposed=!1,this._menuItems=new Map,this._state=[],this._tourLaunched=new q.Signal(this),this._menu=e.helpMenu,this._tours=new Map,this._tracker=null!==(t=e.tracker)&&void 0!==t?t:null,this._translator=null!==(o=e.translator)&&void 0!==o?o:l.nullTranslator,this._trans=this._translator.load("jupyterlab_tour"),this._locale={back:this._trans.__("Back"),close:this._trans.__("Close"),last:this._trans.__("Done"),next:this._trans.__("Next"),open:this._trans.__("Open"),skip:this._trans.__("Skip")};const n=new _.PromiseDelegate;this._ready=n.promise,this._tracker?this._tracker.restored.then((e=>{this._state=e})).finally((()=>{n.resolve()})):n.resolve()}get activeTour(){return this._activeTours.filter((e=>e.isRunning()))[0]}get isDisposed(){return this._isDisposed}get ready(){return this._ready}get tourLaunched(){return this._tourLaunched}get tours(){return this._tours}get translator(){return this._trans}addTour(e){try{let t=this._trans;e.translation&&(t=this._translator.load(e.translation));const o=this.createTour({id:e.id,label:t.__(e.label),hasHelpEntry:!1!==e.hasHelpEntry,options:e.options,icon:e.icon?I.LabIcon.resolve({icon:e.icon}):void 0,version:e.version});return e.steps.forEach((e=>{const n={...e};"string"==typeof n.title&&(n.title=t.__(n.title)),"string"==typeof n.content&&(n.content=t.__(n.content)),o.addStep(n)})),o}catch(t){return console.error(this._trans.__("Fail to add tour '%1' (%2)",e.label,e.id),t),null}}dispose(){this.isDisposed||(this._isDisposed=!0,q.Signal.clearData(this))}async launch(e,t=!0){if(!e||0===e.length||this.activeTour)return Promise.resolve();let o;await this.ready,o="string"==typeof e[0]?e.map((e=>this._tours.get(e))):e;let r=o.filter((e=>e&&e.hasSteps));t||(r=r.filter((e=>e.version>=0?this._state.findIndex((t=>t.id===e.id&&t.version===e.version))<0:!this._state.map((e=>e.id)).includes(e.id))));const a=()=>{this._activeTours=r,this._tourLaunched.emit(r)};return r.length>0&&(t?a():n.Notification.info(this._trans.__("Try the %1.",r[0].label),{autoClose:1e4,actions:[{label:this._trans.__("Start now"),callback:a},{label:this._trans.__("Don't show me again"),callback:()=>{r.forEach((e=>this._rememberDoneTour(e.id)))}}]})),Promise.resolve()}removeTour(e){if(!e)return;let t;t="string"==typeof e?e:e.id;const o=this._tours.get(t);if(o){if(this._menu&&this._menuItems.has(t)){const e=this._menuItems.get(t);if(e)try{e.dispose()}catch(t){this._menu.helpMenu.menu.removeItem(e)}this._menuItems.delete(t)}o.dispose(),this._tours.delete(t),this._forgetDoneTour(t)}}sortTours(e){const t=[...e];return t.sort(this._compareTours),t}_compareTours(e,t){let o=this.translator;e.translation&&(o=this._translator.load(e.translation));let n=this.translator;return t.translation&&(n=this._translator.load(t.translation)),o.__(e.label).toLocaleLowerCase().localeCompare(n.__(t.label).toLocaleLowerCase())||e.id.localeCompare(t.id)}}class Y{constructor(e){this._ready=new _.PromiseDelegate,this._userTours=null,this._tourManager=e.tourManager,Promise.all([e.getSettings(),this._tourManager.ready]).then((([e])=>{this._userTours=e,this._userTours.changed.connect(this._userToursChanged,this),this._userToursChanged(),this._ready.resolve()})).catch((e=>{console.warn(e),this._ready.reject(e)}))}get ready(){return this._ready.promise}get tourManager(){return this._tourManager}_userToursChanged(){var e,t;const o=[...null===(t=null===(e=this._userTours)||void 0===e?void 0:e.composite)||void 0===t?void 0:t.tours];if(o){for(const e of this._tourManager.tours.keys())e.startsWith(T)&&this._tourManager.removeTour(e);for(const e of this.tourManager.sortTours(o))try{this._addUserTour(e),this._tourManager.launch([e.id],!1)}catch(t){const o=this._tourManager.translator;console.groupCollapsed(o.__("Error encountered adding user tour %1 (%2)",e.label,e.id),t),console.table(e.steps),console.log(e.options||{}),console.groupEnd()}}}_addUserTour(e){this._tourManager.addTour({...e,id:`${T}:${e.id}`,icon:e.icon||D.name})}}const K={id:f,autoStart:!0,activate:function(e,t,o,r){const a=K.id.replace(/[^\w]/g,""),{commands:s,serviceManager:c}=e;r=null!=r?r:l.nullTranslator;const d=new _.PromiseDelegate,h=i.ConfigSection.create({name:a,serverSettings:c.serverSettings}).catch((e=>{console.error("Failed to fetch state for jupyterlab-tour.",e)})),g=Object.freeze({restored:d.promise,save:async e=>{var t;await d.promise,null===(t=await h)||void 0===t||t.update({state:e})}}),m=new V({helpMenu:null==o?void 0:o.helpMenu,tracker:g,translator:r});Promise.all([e.restored,h]).then((async([e,t])=>{var o;d.resolve(null!==(o=null==t?void 0:t.data.state)&&void 0!==o?o:[])})).catch((e=>{console.error("Failed to load tour states.",e),d.reject(e)}));const y=m.translator;s.addCommand(j.launch,{label:e=>{if(e.id){const t=m.tours.get(e.id);return y.__(t.label)}return y.__("Launch a Tour")},icon:e=>{var t;return(null===(t=m.tours.get(e.id))||void 0===t?void 0:t.icon)||O},usage:y.__("Launch a tour.\nIf no id provided, prompt the user.\nArguments {id: Tour ID}"),isEnabled:()=>!m.activeTour,execute:async e=>{let t=e.id;const o=void 0===e.force||e.force;if(!t){const e=await n.InputDialog.getItem({items:Array.from(m.tours.keys()),title:y.__("Choose a tour")});if(!e.button.accept||!e.value)return;t=e.value}await m.ready,m.launch([t],o)}}),s.addCommand(j.addTour,{label:y.__("Add a tour"),usage:y.__("Add a tour and returns it.\nArguments {tour: ITour}\nReturns `null` if a failure occurs."),execute:e=>m.addTour(e.tour)}),t&&t.addItem({category:y.__("Help"),command:j.launch});const f=n.ReactWidget.create(u().createElement(b,{tourLaunched:m.tourLaunched}));return p.Widget.attach(f,document.body),m},optional:[n.ICommandPalette,r.IMainMenu,l.ITranslator],provides:k},X={id:T,autoStart:!0,activate:function(e,t,o){return new Y({tourManager:o,getSettings:()=>t.load(T)})},requires:[s.ISettingRegistry,k],optional:[l.ITranslator],provides:S},Q={id:v,autoStart:!0,activate:function(e,t,o,n){const r=new W({tourManager:o});return t.widgetAdded.connect(((e,t)=>r.addNotebook(t.content))),null==n||n.addFactory("Notebook",y,(e=>new U(e.content,r))),r},requires:[a.INotebookTracker,k],optional:[n.IToolbarWidgetRegistry],provides:w},Z={id:E,autoStart:!0,activate:function(e,t,o){(function(e,t,o){const{commands:n,shell:r}=t;"Jupyter Notebook"===t.name?(F.Notebook.addWelcomeTour(e,n),F.JupyterLab.addNotebookTour(e,n,r,o,"Jupyter Notebook")):(F.JupyterLab.addWelcomeTour(e,n),F.JupyterLab.addNotebookTour(e,n,r,o))})(t,e,o),o&&("Jupyter Notebook"!==e.name||window.location.pathname.match(/\/notebooks\/.+$/))&&o.widgetAdded.connect((()=>{t.tours.has(x)&&t.launch([x],!1)})),Promise.all([e.restored,t.ready]).then((()=>{t.tours.has(C)&&("Jupyter Notebook"!==e.name||window.location.pathname.match(/\/tree(\/.+)?$/))&&setTimeout((()=>t.launch([C],!1)),3e3)}))},requires:[k],optional:[a.INotebookTracker]},ee=[K,X,Q,Z]}}]);